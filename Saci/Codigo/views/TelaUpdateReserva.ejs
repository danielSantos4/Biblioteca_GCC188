<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>CRUD Usuário</title>
    </head>
    <style type="text/css">
        .mensagemAtencao {
            color: red;
            font-size: 20px;
        }

        .navbar {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
    </style>
    <body>
        <nav>
            <ul class="navbar">
                <li><a href="http://localhost:3000/user/"><button>Crud usuário</button></a></li>
                <li><a href="http://localhost:3000/livro/"><button>Livros</button></a></li>
                <li><a href="http://localhost:3000/exemplar"><button>Exemplar</button></a></li>
                <li><a href="http://localhost:3000/editora"><button>Editoras</button></a></li>
                <li><a href="http://localhost:3000/reserva"><button>Reservas</button></a></li>
              </ul>
        </nav>
        <div class="mensagemAtencao">
            <% if(mensagem != ''){%>
                <div >
                    <strong>Atenção!</strong> <%= mensagem %>
                </div>
            <% } %>
        </div>

        <div>
            <h2>Tela Alteração de Reserva</h2> 
            <form action="http://localhost:3000/reserva/upt" method="POST">
                <% table.forEach((row) => { %>
                <input type="hidden" id="idexemplarvelho" name="idexemplarvelho" value="<%= row.idexemplar %>">
                <input type="hidden" id="idreserva" name="idreserva" value="<%= row.id %>"
                <label>Email do usuario:</label><br>
                <input type="text" id="text" name="email" value="<%= row.email %>"><br><br>
                <label>Id do exemplar</label><br>
                <input type="text" id="idexemplar" name="idexemplar" value="<%= row.idexemplar %>"><br><br>
                <label>Data do Emprestimo</label><br>
                <input type="text" id="dataemprestimo" name="dataemprestimo" 
                    pattern="(0[1-9]|1[0-9]|2[0-9]|3[01])/(0[1-9]|1[012])/[0-9]{4}" 
                    required
                    value="<%= row.dataemprestimo %>">
                <br><br>
                
                <label>Data para Devolucao</label><br>
                <input type="text" id="dataesperada" name="dataesperada" 
                    pattern="(0[1-9]|1[0-9]|2[0-9]|3[01])/(0[1-9]|1[012])/[0-9]{4}" 
                    required
                    value="<%= row.dataesperada %>">
                <br><br>
                <label>Data de Devolução real</label><br>
                <input type="text" id="datareal" name="datareal" 
                    pattern="(0[1-9]|1[0-9]|2[0-9]|3[01])/(0[1-9]|1[012])/[0-9]{4}"
                    value="<%= row.datareal %>">
                <br><br>
                <input type="submit" value="Atualizar Reserva">
                <% }) %>
            </form>
        </div>